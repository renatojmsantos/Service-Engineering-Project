{"ast":null,"code":"var _jsxFileName = \"/Users/renatosantos/Dropbox/Aplicativos/NONIO-Inforestudante/Licenciatura em Engenharia Informa\\u0301tica/2019 2020/2.\\xBA Semestre/Engenharia de Servic\\u0327os/Service-Engineering-Project/src/getTranscribeStatus.js\";\nimport React from 'react';\nimport TranscribeData from './getTranscribeData';\n\nclass TranscribeFetch extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      aux: 0,\n      body: '',\n      isLoading: true\n    };\n  }\n\n  async componentDidMount() {\n    const url = \"https://4xfwd1debf.execute-api.us-east-1.amazonaws.com/proj/getstatus\";\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const response = await fetch(url, requestOptions);\n    const data = await response.json(); //console.log(data);\n\n    this.setState({\n      body: data.body\n    });\n    console.log(this.state.body);\n\n    if (this.state.body === String('\"IN_PROGRESS\"')) {\n      this.setState({\n        aux: 0,\n        isLoading: true\n      });\n      this.componentDidMount();\n    } else {\n      /*if(this.state.aux === 0) {\n          console.log(\"1111\")\n          this.setState({ aux:1 })\n          console.log(this.state.aux);\n      } else {\n          console.log(\"2222\")\n          this.setState({ isLoading: false });\n      }    */\n      this.setState({\n        isLoading: false\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, this.state.isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }, \"Loading...\") : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TranscribeData, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 26\n      }\n    })));\n  }\n\n}\n\nexport default TranscribeFetch;","map":{"version":3,"sources":["/Users/renatosantos/Dropbox/Aplicativos/NONIO-Inforestudante/Licenciatura em Engenharia Informática/2019 2020/2.º Semestre/Engenharia de Serviços/Service-Engineering-Project/src/getTranscribeStatus.js"],"names":["React","TranscribeData","TranscribeFetch","Component","constructor","props","state","aux","body","isLoading","componentDidMount","url","requestOptions","method","headers","response","fetch","data","json","setState","console","log","String","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,qBAA3B;;AAEA,MAAMC,eAAN,SAA8BF,KAAK,CAACG,SAApC,CAA8C;AAC1CC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,GAAG,EAAE,CADI;AAETC,MAAAA,IAAI,EAAE,EAFG;AAGTC,MAAAA,SAAS,EAAE;AAHF,KAAb;AAKH;;AAED,QAAMC,iBAAN,GAA0B;AACtB,UAAMC,GAAG,GAAG,uEAAZ;AACA,UAAMC,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,MADW;AAEnBC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAFU,KAAvB;AAIA,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACL,GAAD,EAAMC,cAAN,CAA5B;AACA,UAAMK,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB,CAPsB,CAQtB;;AACA,SAAKC,QAAL,CAAc;AAAEX,MAAAA,IAAI,EAAES,IAAI,CAACT;AAAb,KAAd;AACAY,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKf,KAAL,CAAWE,IAAvB;;AAEA,QAAG,KAAKF,KAAL,CAAWE,IAAX,KAAoBc,MAAM,CAAC,eAAD,CAA7B,EAAgD;AAC5C,WAAKH,QAAL,CAAc;AAAEZ,QAAAA,GAAG,EAAE,CAAP;AAAUE,QAAAA,SAAS,EAAE;AAArB,OAAd;AACA,WAAKC,iBAAL;AACH,KAHD,MAGO;AACH;;;;;;;;AAQA,WAAKS,QAAL,CAAc;AAAEV,QAAAA,SAAS,EAAE;AAAb,OAAd;AACH;AACJ;;AAEDc,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKjB,KAAL,CAAWG,SAAX,gBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADH,gBAKG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAK,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAL,CANR,CADJ;AAWH;;AAlDyC;;AAqD9C,eAAeP,eAAf","sourcesContent":["import React from 'react';\nimport TranscribeData from './getTranscribeData'\n\nclass TranscribeFetch extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            aux: 0,\n            body: '',\n            isLoading: true\n        };\n    }\n\n    async componentDidMount() {\n        const url = \"https://4xfwd1debf.execute-api.us-east-1.amazonaws.com/proj/getstatus\";\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' }\n        };\n        const response = await fetch(url, requestOptions)\n        const data = await response.json();\n        //console.log(data);\n        this.setState({ body: data.body })\n        console.log(this.state.body);\n\n        if(this.state.body === String('\"IN_PROGRESS\"')) {\n            this.setState({ aux: 0, isLoading: true })\n            this.componentDidMount();\n        } else {\n            /*if(this.state.aux === 0) {\n                console.log(\"1111\")\n                this.setState({ aux:1 })\n                console.log(this.state.aux);\n            } else {\n                console.log(\"2222\")\n                this.setState({ isLoading: false });\n            }    */\n            this.setState({ isLoading: false })      \n        }\n    }    \n\n    render() {\n        return (\n            <div>\n                {this.state.isLoading ? (\n                    <div>\n                        Loading...\n                    </div>                    \n                ) : (\n                    <div><TranscribeData /></div>\n                )}\n            </div>\n        )\n    }\n}\n\nexport default TranscribeFetch;\n"]},"metadata":{},"sourceType":"module"}