{"ast":null,"code":"var _jsxFileName = \"E:\\\\GitHub\\\\ReactTest\\\\src\\\\uploadS3.js\";\nimport React, { Component } from \"react\"; // We are using axios as the http library\n\nimport axios from \"axios\";\nexport default class Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      fileToUpload: undefined,\n      uploadSuccess: undefined,\n      error: undefined\n    };\n  }\n\n  uploadFile() {\n    // When the upload file button is clicked, \n    // first we need to get the presigned URL\n    // URL is the one you get from AWS API Gateway\n    axios(\"https://bvwtv1j9na.execute-api.us-east-1.amazonaws.com/test/presigned-url?fileName=\" + this.state.fileToUpload.name).then(response => {\n      // Getting the url from response\n      const url = response.data.fileUploadURL; // Initiating the PUT request to upload file    \n\n      axios({\n        method: \"PUT\",\n        url: url,\n        data: this.state.fileToUpload,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(res => {\n        this.setState({\n          uploadSuccess: \"File upload successfull\",\n          error: undefined\n        });\n      }).catch(err => {\n        this.setState({\n          error: \"Error Occured while uploading the file\",\n          uploadSuccess: undefined\n        });\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, \"File Upload to S3 with Lambda, And React axios Application\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control-file\",\n      id: \"fileUpload\",\n      onChange: e => {\n        this.setState({\n          fileToUpload: e.target.files[0]\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 29\n      }\n    }), this.state.fileToUpload ? /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-light\",\n      onClick: e => {\n        this.uploadFile();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 33\n      }\n    }, \"Upload your file\") : null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 33\n      }\n    }, this.state.uploadSuccess ? \"File Upload Successfully\" : \"\"))))));\n  }\n\n}","map":{"version":3,"sources":["E:/GitHub/ReactTest/src/uploadS3.js"],"names":["React","Component","axios","Home","state","fileToUpload","undefined","uploadSuccess","error","uploadFile","name","then","response","url","data","fileUploadURL","method","headers","res","setState","catch","err","render","e","target","files"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAIA,eAAe,MAAMC,IAAN,SAAmBF,SAAnB,CAA6B;AAAA;AAAA;AAAA,SAGxCG,KAHwC,GAGhC;AACNC,MAAAA,YAAY,EAAEC,SADR;AAENC,MAAAA,aAAa,EAAED,SAFT;AAGNE,MAAAA,KAAK,EAAEF;AAHD,KAHgC;AAAA;;AAQxCG,EAAAA,UAAU,GAAG;AACX;AACA;AACA;AACAP,IAAAA,KAAK,CACH,wFACI,KAAKE,KAAL,CAAWC,YAAX,CAAwBK,IAFzB,CAAL,CAGEC,IAHF,CAGOC,QAAQ,IAAI;AACf;AACA,YAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAT,CAAcC,aAA1B,CAFe,CAIf;;AACAb,MAAAA,KAAK,CAAC;AACFc,QAAAA,MAAM,EAAE,KADN;AAEFH,QAAAA,GAAG,EAAEA,GAFH;AAGFC,QAAAA,IAAI,EAAE,KAAKV,KAAL,CAAWC,YAHf;AAIFY,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB;AAJP,OAAD,CAAL,CAMKN,IANL,CAMUO,GAAG,IAAI;AACT,aAAKC,QAAL,CAAc;AACVZ,UAAAA,aAAa,EAAE,yBADL;AAEVC,UAAAA,KAAK,EAAEF;AAFG,SAAd;AAIH,OAXL,EAYKc,KAZL,CAYWC,GAAG,IAAI;AACV,aAAKF,QAAL,CAAc;AACVX,UAAAA,KAAK,EAAE,wCADG;AAEVD,UAAAA,aAAa,EAAED;AAFL,SAAd;AAIH,OAjBL;AAkBH,KA1BD;AA2BD;;AACDgB,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oEADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,SAAS,EAAC,mBAFd;AAGI,MAAA,EAAE,EAAC,YAHP;AAII,MAAA,QAAQ,EAAEC,CAAC,IAAI;AACX,aAAKJ,QAAL,CAAc;AACVd,UAAAA,YAAY,EAAEkB,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf;AADJ,SAAd;AAGH,OARL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAWK,KAAKrB,KAAL,CAAWC,YAAX,gBACG;AACI,MAAA,IAAI,EAAC,QADT;AAEI,MAAA,SAAS,EAAC,eAFd;AAGI,MAAA,OAAO,EAAEkB,CAAC,IAAI;AACV,aAAKd,UAAL;AACH,OALL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADH,GAUG,IArBR,eAsBxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKL,KAAL,CAAWG,aAAX,GACK,0BADL,GAEK,EAHV,CADhC,CAtBwB,CADJ,CADJ,CAJJ,CADJ;AAyCH;;AAlFuC","sourcesContent":["import React, { Component } from \"react\";\r\n// We are using axios as the http library\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\nexport default class Home extends Component {\r\n    // fileToUpload contains the actual file object\r\n    // uploadSuccess becomes true when the file upload is complete\r\n    state = {\r\n      fileToUpload: undefined,\r\n      uploadSuccess: undefined,\r\n      error: undefined\r\n    };\r\n    uploadFile() {\r\n      // When the upload file button is clicked, \r\n      // first we need to get the presigned URL\r\n      // URL is the one you get from AWS API Gateway\r\n      axios(\r\n        \"https://bvwtv1j9na.execute-api.us-east-1.amazonaws.com/test/presigned-url?fileName=\" +\r\n            this.state.fileToUpload.name\r\n      ).then(response => {\r\n          // Getting the url from response\r\n          const url = response.data.fileUploadURL;\r\n\r\n          // Initiating the PUT request to upload file    \r\n          axios({\r\n              method: \"PUT\",\r\n              url: url,\r\n              data: this.state.fileToUpload,\r\n              headers: { \"Content-Type\": \"multipart/form-data\" }\r\n          })\r\n              .then(res => {\r\n                  this.setState({\r\n                      uploadSuccess: \"File upload successfull\",\r\n                      error: undefined\r\n                  });\r\n              })\r\n              .catch(err => {\r\n                  this.setState({\r\n                      error: \"Error Occured while uploading the file\",\r\n                      uploadSuccess: undefined\r\n                  });\r\n              });\r\n      });\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div>\r\n                    File Upload to S3 with Lambda, And React axios Application\r\n                </div>\r\n                <div>\r\n                    <form>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"file\"\r\n                                className=\"form-control-file\"\r\n                                id=\"fileUpload\"\r\n                                onChange={e => {\r\n                                    this.setState({\r\n                                        fileToUpload: e.target.files[0]\r\n                                    });\r\n                                }}\r\n                            />\r\n                            {this.state.fileToUpload ? (\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-light\"\r\n                                    onClick={e => {\r\n                                        this.uploadFile();\r\n                                    }}\r\n                                >\r\n                                    Upload your file\r\n                                </button>\r\n                            ) : null}\r\n<div>\r\n                                <span>\r\n                                    {this.state.uploadSuccess\r\n                                        ? \"File Upload Successfully\"\r\n                                        : \"\"}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}